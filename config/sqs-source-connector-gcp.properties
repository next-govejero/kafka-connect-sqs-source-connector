# SQS Source Connector Configuration for GCP Deployment
#
# This configuration is for running the connector on Google Cloud Platform
# (Compute Engine, GKE, Cloud Run) accessing AWS SQS.

name=sqs-source-connector-gcp
connector.class=io.connect.sqs.SqsSourceConnector
tasks.max=1

# AWS Configuration
# Credentials should be stored in GCP Secret Manager

aws.region=us-east-1

# Option 1: Environment variables (recommended with GCP Secret Manager)
# Mount secrets as environment variables in your GCP deployment
# The connector will automatically use:
# - AWS_ACCESS_KEY_ID
# - AWS_SECRET_ACCESS_KEY

# Option 2: Credentials file from GCP Secret Manager
# Mount the AWS credentials file via GCP Secret Manager volume mount
# aws.credentials.profile=gcp-prod
# aws.credentials.file.path=/var/secrets/aws/credentials

# Option 3: Static credentials (less recommended)
# aws.access.key.id=${AWS_ACCESS_KEY_ID}
# aws.secret.access.key=${AWS_SECRET_ACCESS_KEY}

# SQS Configuration
sqs.queue.url=https://sqs.us-east-1.amazonaws.com/123456789012/your-queue-name
sqs.max.messages=10
sqs.wait.time.seconds=10
sqs.visibility.timeout.seconds=30
sqs.message.attributes.enabled=true
sqs.delete.messages=true

# Kafka Configuration
kafka.topic=sqs-messages

# SCRAM Authentication (MANDATORY)
sasl.mechanism=SCRAM-SHA-512
security.protocol=SASL_SSL
sasl.jaas.config=org.apache.kafka.common.security.scram.ScramLoginModule required \
  username="${KAFKA_USERNAME}" \
  password="${KAFKA_PASSWORD}";

# Error Handling
dlq.topic=sqs-dlq
max.retries=3
retry.backoff.ms=1000

# Polling Configuration
poll.interval.ms=1000

# Message Format
message.converter.class=io.connect.sqs.converter.DefaultMessageConverter

# GCP-specific notes:
# 1. Use GCP Secret Manager for credential storage
# 2. For GKE: Use Workload Identity where possible
# 3. Set AWS_EC2_METADATA_DISABLED=true environment variable
# 4. Ensure VPC firewall rules allow outbound HTTPS to AWS
# 5. Consider using Cloud NAT for outbound connectivity
# 6. For Cloud Run: Ensure proper IAM permissions for Secret Manager access
